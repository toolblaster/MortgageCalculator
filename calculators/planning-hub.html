<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta Title: 60 chars -->
    <title>Start Your Financial Plan: Mortgage, Buying, Equity & Investing</title>
    
    <!-- SEO & Meta Tags -->
    <!-- Meta Description: 156 chars -->
    <meta name="description" content="Use our step-by-step guided journey to master your mortgage planning. Choose your path: First-Time Buyer, Homeowner Optimisation, or Real Estate Investor.">
    <meta name="keywords" content="mortgage planning steps, financial guidance, first-time home buyer path, homeowner optimisation, real estate investing steps, mortgage calculator hub, guided financial plan">
    <meta name="author" content="Vikas Rana">
    <link rel="icon" href="data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100' height='100' rx='20' fill='%231C768F'/%3E%3Cpath d='M50 25L25 45V75H41.6667V58.3333H58.3333V75H75V45L50 25Z' stroke='white' stroke-width='5' stroke-linejoin='round'/%3E%3Cpath d='M40 65L50 55L60 65' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M50 55V45' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin="round"/%3E%3C/svg%3E">
    <link rel="canonical" href="https://mortgageplanner.toolblaster.com/calculators/planning-hub.html" />

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- App Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1C768F', 'accent': '#166534', 'secondary': '#b45309',
                        'buy-path': '#3b82f6', // blue
                        'optimize-path': '#10b981', // green
                        'invest-path': '#f59e0b', // amber
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>

    <!-- Global Stylesheet (relative path from calculators folder) -->
    <link rel="stylesheet" href="../style.css">
    
    <style>
         /* Custom styles for the planning hub */
        .path-step-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out;
        }
        details[open] .path-step-content {
            max-height: 2000px; /* Adjust based on max content size */
        }
        
        /* === NEW: Style for forcing the open path to span all columns === */
        /* Applied via JS to ensure only one is open, and for better stacking */
        .path-details[open] {
            grid-column: span 3 / span 3;
        }

        /* Custom step styling for better visual flow */
        .path-step-list {
            list-style: none; /* Ensure no default bullets */
            padding-left: 0;
            margin-left: 0;
        }
        .path-step-list > li {
            position: relative;
            margin-left: 0;
            padding-left: 1.75rem; 
        }
        .path-step-list > li::before {
            content: '';
            position: absolute;
            left: 0.65rem; 
            top: 1.15rem;
            bottom: -0.25rem; /* Adjusted for tighter vertical spacing */
            width: 2px;
            background-color: #e5e7eb; /* Gray-200 line */
        }
        .path-step-list > li:last-child::before {
            display: none; /* Hide line on the last element */
        }
        .path-step-list > li .step-marker {
            position: absolute;
            left: 0;
            top: 0;
            z-index: 10;
        }

        /* Hover and Open effect on path summary */
        .path-details > summary {
             transition: all 0.2s ease-in-out;
             border: 2px solid transparent;
        }
        .path-details:hover > summary {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }
        .path-details[open] > summary .chevron-icon {
            transform: rotate(90deg);
        }
        .path-details .chevron-icon {
            transition: transform 0.3s ease-in-out;
        }
        
        /* Added for the quick access section */
        .quick-link-tile {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border-width: 2px;
            transition: all 0.2s ease-in-out;
        }

        .quick-link-tile:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }
    </style>

    <!-- JSON-LD Structured Data for the hub -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Financial Planning Hub",
      "description": "Guided financial plans for first-time buyers, existing homeowners, and real estate investors.",
      "mainEntity": {
        "@type": "ItemList",
        "itemListElement": [
            { "@type": "ListItem", "position": 1, "name": "First-Time Buyer Path" },
            { "@type": "ListItem", "position": 2, "name": "Homeowner Optimization Path" },
            { "@type": "ListItem", "position": 3, "name": "Real Estate Investor Path" }
        ]
      }
    }
    </script>

</head>
<body class="bg-gray-100 text-sm">
    <main class="content-wrapper">
        <div class="container-global my-4 md:my-8">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-2xl">
                
                <!-- Simple Header/Title Section -->
                <header class="text-center mb-6 pb-4 border-b">
                    <h1 class="text-xl sm:text-2xl font-extrabold text-primary tracking-tight">
                        Your Roadmap to Mortgage Mastery
                    </h1>
                    <p class="mt-1 max-w-2xl mx-auto text-sm text-gray-700">
                        Choose the path that matches your current financial goal. We guide you through the exact calculators and resources you need.
                    </p>
                </header>

                <!-- Quick Access / CTA Row -->
                <section class="mb-8 border-b pb-6" id="quick-tools-section">
                    <h2 class="text-base font-bold text-gray-800 mb-4 text-center">Quick Tools for Immediate Answers</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 max-w-4xl mx-auto">
                        <a href="../#mortgage-tab" class="quick-link-tile bg-primary/10 border-primary/30 text-primary">
                             <!-- Icon: LayoutGrid (Full Planner) -->
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
                            <span class="text-xs font-semibold mt-1">Full Planner</span>
                        </a>
                         <a href="../#affordability-tab" class="quick-link-tile bg-buy-path/10 border-buy-path/30 text-buy-path">
                             <!-- Icon: Target (Affordability) -->
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
                            <span class="text-xs font-semibold mt-1">Affordability</span>
                        </a>
                        <a href="extra-payment-calculator.html" class="quick-link-tile bg-optimize-path/10 border-optimize-path/30 text-optimize-path">
                            <!-- Icon: Zap (Payoff Faster) -->
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                            <span class="text-xs font-semibold mt-1">Payoff Faster</span>
                        </a>
                        <a href="home-equity-calculator.html" class="quick-link-tile bg-invest-path/10 border-invest-path/30 text-invest-path">
                            <!-- Icon: TrendingUp (Home Equity) -->
                            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 7 18 11 14 7 10 11 6 7 2 11"/><polyline points="22 7 17 7 17 12"/></svg>
                            <span class="text-xs font-semibold mt-1">Home Equity</span>
                        </a>
                    </div>
                </section>
                
                <!-- Guided Paths Section: Updated to use 3-column grid -->
                <section class="max-w-4xl mx-auto space-y-6 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6" id="guided-paths-container">
                    
                    <!-- Path 1: First-Time Buyer -->
                    <details open class="path-details rounded-xl shadow-lg border border-buy-path/30 lg:col-span-1 bg-white">
                        <summary class="p-4 rounded-xl cursor-pointer list-none group hover:bg-gray-50 transition-colors border-l-4 border-buy-path">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 rounded-full bg-buy-path text-white flex-shrink-0 flex items-center justify-center font-bold text-lg mt-1">
                                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
                                </div>
                                <div class="flex-grow">
                                    <!-- Reduced title size -->
                                    <h3 class="text-sm font-extrabold text-buy-path flex items-center justify-between">
                                        Path 1: First-Time Buyer
                                        <svg class="chevron-icon w-4 h-4 text-buy-path transform transition-transform" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                                    </h3>
                                    <p class="text-xs text-gray-700 mt-0.5">From budgeting to closing, secure your first home confidently.</p>
                                </div>
                            </div>
                            <button class="mt-3 w-full py-1.5 bg-buy-path text-white font-semibold rounded-md text-xs shadow-md hover:bg-buy-path/80 transition-colors">
                                View Steps
                            </button>
                        </summary>
                        <div class="path-step-content p-4 border-t">
                            <p class="text-xs text-gray-700 mb-3 font-semibold">Your goal is purchasing a home. Follow these steps to prepare your finances and secure a mortgage:</p>
                            <ol class="path-step-list space-y-2 list-none">
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Check Readiness: Credit & DTI</h4>
                                        <p class="text-[11px] text-gray-600">Ensure your credit score is strong and your debts are manageable before getting pre-approved.</p>
                                        <a href="../blog/first-time-home-buyer-checklist.html" class="text-[11px] font-semibold text-buy-path hover:underline">Read: First-Time Buyer Checklist &rarr;</a>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v.01M12 18v-2m0-2v-2m0-2V7m0 0V6" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Determine Your True Budget</h4>
                                        <p class="text-[11px] text-gray-600">Find the max home price you can afford while maintaining a healthy Debt-to-Income ratio (DTI).</p>
                                        <a href="../#affordability-tab" class="text-[11px] font-semibold text-buy-path hover:underline">Use: Affordability Calculator &rarr;</a>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                         <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.5 19H12a5.5 5.5 0 01-5.5-5.5c0-1.4 0-3 1.5-4.5h5.5M17.5 19H17a4 4 0 00-4-4h-2a4 4 0 00-4 4H6.5c-2.4 0-4.5-2.1-4.5-4.5 0-3.5 3-6.5 6.5-6.5h7c3 0 5.5 2.5 5.5 5.5v2"/></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Calculate Upfront Costs</h4>
                                        <p class="text-[11px] text-gray-600">Calculate your total cash needed for the down payment, closing costs (2-5%), and initial taxes/insurance.</p>
                                        <a href="down-payment-calculator.html" class="text-[11px] font-semibold text-buy-path hover:underline">Use: Down Payment Calculator &rarr;</a>
                                    </div>
                                </li>
                                 <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7 20h10m-10 0V4a2 2 0 012-2h6a2 2 0 012 2v16m-10 0h10" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Model Your Monthly Payment</h4>
                                        <p class="text-[11px] text-gray-600">Run a full scenario (PITI) on the main planner to confirm the final payment is comfortable.</p>
                                        <a href="../#mortgage-tab" class="text-[11px] font-semibold text-buy-path hover:underline">Use: Mortgage Planner (PITI) &rarr;</a>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </details>
                    
                    <!-- Path 2: Homeowner Optimization -->
                    <details class="path-details rounded-xl shadow-lg border border-optimize-path/30 lg:col-span-1 bg-white">
                         <summary class="p-4 rounded-xl cursor-pointer list-none group hover:bg-gray-50 transition-colors border-l-4 border-optimize-path">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 rounded-full bg-optimize-path text-white flex-shrink-0 flex items-center justify-center font-bold text-lg mt-1">
                                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.42-.858 1.65-.858 2.07 0l1.05 2.14c.2.4.58.7.97.77l2.36.34c.94.13 1.33 1.3.66 2.02l-1.7 1.66c-.36.35-.5.84-.4 1.33l.39 2.34c.15.93-.72 1.63-1.55 1.25l-2.1-.88c-.44-.18-.95-.18-1.39 0l-2.1.88c-.83.38-1.7-.32-1.55-1.25l.39-2.34c.1-.49-.04-.98-.4-1.33l-1.7-1.66c-.67-.72-.28-1.89.66-2.02l2.36-.34c.39-.07.77-.37.97-.77l1.05-2.14zM12 18V6"/></svg>
                                </div>
                                <div>
                                    <!-- Reduced title size -->
                                    <h3 class="text-sm font-extrabold text-optimize-path flex items-center justify-between">
                                        Path 2: Homeowner Optimization
                                        <svg class="chevron-icon w-4 h-4 text-optimize-path transform transition-transform" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                                    </h3>
                                    <p class="text-xs text-gray-700 mt-0.5">Maximize savings, reduce interest, and tap equity efficiently.</p>
                                </div>
                            </div>
                            <button class="mt-3 w-full py-1.5 bg-optimize-path text-white font-semibold rounded-md text-xs shadow-md hover:bg-optimize-path/80 transition-colors">
                                Optimize Now
                            </button>
                        </summary>
                         <div class="path-step-content p-4 border-t">
                            <p class="text-xs text-gray-700 mb-3 font-semibold">Your goal is to save interest and pay off your current loan as efficiently as possible:</p>
                            <ol class="path-step-list space-y-2 list-none">
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Accelerate Your Payoff</h4>
                                        <p class="text-[11px] text-gray-600">See exactly how much money and time you save by adding extra monthly payments or lump sums.</p>
                                        <a href="extra-payment-calculator.html" class="text-[11px] font-semibold text-optimize-path hover:underline">Use: Extra Payment Calculator &rarr;</a>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Refinance Analysis</h4>
                                        <p class="text-[11px] text-gray-600">Calculate your refinance break-even point and total savings if you shorten your term or lower your rate.</p>
                                        <a href="../#refinance-tab" class="text-[11px] font-semibold text-optimize-path hover:underline">Use: Refinance Calculator &rarr;</a>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8V4m0 0L8 8m4-4l4 4m-3 7c-.121-.212-.34-.326-.59-.326C11.663 15.375 12 15.75 12 15.75c-.337 0-.677.375-.59.75M4.5 19.5h15" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Opportunity Cost Check (NPV)</h4>
                                        <p class="text-[11px] text-gray-600">Determine if your extra payments are better used on your low-interest mortgage or invested (NPV analysis).</p>
                                        <a href="../blog/mortgage-amortization-explained.html" class="text-[11px] font-semibold text-optimize-path hover:underline">Read: Amortization & NPV Explained &rarr;</a>
                                    </div>
                                </li>
                                 <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.5 19H12a5.5 5.5 0 01-5.5-5.5c0-1.4 0-3 1.5-4.5h5.5M17.5 19H17a4 4 0 00-4-4h-2a4 4 0 00-4 4H6.5c-2.4 0-4.5-2.1-4.5-4.5 0-3.5 3-6.5 6.5-6.5h7c3 0 5.5 2.5 5.5 5.5v2"/></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Tap Home Equity Wisely</h4>
                                        <p class="text-[11px] text-gray-600">Compare HELOCs and Cash-Out Refinancing to decide the best way to access your home's value.</p>
                                        <a href="home-equity-calculator.html" class="text-[11px] font-semibold text-optimize-path hover:underline">Use: Home Equity Calculator &rarr;</a>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </details>

                    <!-- Path 3: Real Estate Investor -->
                    <details class="path-details rounded-xl shadow-lg border border-invest-path/30 lg:col-span-1 bg-white">
                         <summary class="p-4 rounded-xl cursor-pointer list-none group hover:bg-gray-50 transition-colors border-l-4 border-invest-path">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 rounded-full bg-invest-path text-white flex-shrink-0 flex items-center justify-center font-bold text-lg mt-1">
                                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 14.25l6-6m2.25 1.5l1.5-1.5m-3.75-1.5l-1.5 1.5M15 14.25l-6 6m2.25-1.5l1.5 1.5m-3.75 1.5l-1.5-1.5M12 21a9 9 0 100-18 9 9 0 000 18z" /></svg>
                                </div>
                                <div>
                                    <!-- Reduced title size -->
                                    <h3 class="text-sm font-extrabold text-invest-path flex items-center justify-between">
                                        Path 3: Real Estate Investor
                                        <svg class="chevron-icon w-4 h-4 text-invest-path transform transition-transform" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                                    </h3>
                                    <p class="text-xs text-gray-700 mt-0.5">Analyze cash flow, Cap Rate, and maximize rental property returns.</p>
                                </div>
                            </div>
                            <button class="mt-3 w-full py-1.5 bg-invest-path text-white font-semibold rounded-md text-xs shadow-md hover:bg-invest-path/80 transition-colors">
                                Analyze ROI
                            </button>
                        </summary>
                         <div class="path-step-content p-4 border-t">
                            <p class="text-xs text-gray-700 mb-3 font-semibold">Your goal is passive income. Analyze rental cash flow, Cap Rate, and Cash-on-Cash ROI:</p>
                            <ol class="path-step-list space-y-2 list-none">
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-invest-path/20 text-invest-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Calculate Investment ROI</h4>
                                        <p class="text-[11px] text-gray-600">Input purchase price, rent, and expenses to immediately see Cap Rate and Cash-on-Cash Return.</p>
                                        <a href="../#investment-tab" class="text-[11px] font-semibold text-invest-path hover:underline">Use: Investment/Rental Calculator &rarr;</a>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-invest-path/20 text-invest-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 010 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 010-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375z" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Validate Initial Costs</h4>
                                        <p class="text-[11px] text-gray-600">Accurately estimate closing costs and property taxes, the two biggest upfront expenses.</p>
                                        <a href="closing-cost-calculator.html" class="text-[11px] font-semibold text-invest-path hover:underline">Use: Closing Cost Calculator &rarr;</a>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-2">
                                    <div class="step-marker w-4 h-4 rounded-full bg-invest-path/20 text-invest-path flex items-center justify-center mt-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7 20h10m-10 0V4a2 2 0 012-2h6a2 2 0 012 2v16m-10 0h10" /></svg>
                                    </div>
                                    <div class="w-full">
                                        <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Forecast Long-Term Wealth</h4>
                                        <p class="text-[11px] text-gray-600">Model the investment property in the main Mortgage Planner to forecast long-term equity growth.</p>
                                        <a href="../#mortgage-tab" class="text-[11px] font-semibold text-invest-path hover:underline">Use: Full Planner (Equity Forecast) &rarr;</a>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </details>

                </section>
                
                <!-- Back to Hub -->
                 <div class="mt-8 pt-4 border-t text-center">
                    <p class="text-sm text-gray-700">Need more information? Check out our guides and full calculator list.</p>
                     <a href="index.html" class="mt-2 inline-block text-xs font-semibold text-primary hover:underline">
                        View All Calculators & Resources &rarr;
                    </a>
                 </div>

            </div>
        </div>
    </main>
    <script src="../global-elements.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // JavaScript to manage the exclusive open state and visual column spanning
            const detailsElements = document.querySelectorAll('#guided-paths-container details');
            const quickToolsSection = document.getElementById('quick-tools-section');

            // Function to handle smooth scrolling to an element
            function smoothScrollTo(element) {
                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start' 
                });
            }

            detailsElements.forEach(currentDetails => {
                currentDetails.addEventListener('toggle', (event) => {
                    const isOpening = currentDetails.open;

                    if (isOpening) {
                        // 1. Close all other details tags
                        detailsElements.forEach(otherDetails => {
                            if (otherDetails !== currentDetails && otherDetails.open) {
                                otherDetails.open = false;
                            }
                        });
                        
                        // 2. Add the dynamic column span class for desktop expansion
                        if (window.innerWidth >= 1024) {
                            currentDetails.classList.add('lg:col-span-3');
                        }
                        
                        // 3. Smooth scroll the opened element into view
                        // Delay scroll to allow CSS expansion animation to begin smoothly
                        setTimeout(() => {
                            smoothScrollTo(currentDetails);
                        }, 50);

                    } else {
                         // 3. Remove the column span class when closing
                        if (window.innerWidth >= 1024) {
                            currentDetails.classList.remove('lg:col-span-3');
                        }
                    }
                });
            });

            // Handle initial state and responsiveness on load/resize
            window.addEventListener('resize', () => {
                 detailsElements.forEach(details => {
                    if (details.open) {
                        if (window.innerWidth >= 1024) {
                             details.classList.add('lg:col-span-3');
                        } else {
                             details.classList.remove('lg:col-span-3');
                        }
                    } else {
                        details.classList.remove('lg:col-span-3');
                    }
                });
            });
            
             // Initial check on load: Scroll to Quick Tools section if the base URL is used
             if (window.location.href.split('#')[0] === window.location.origin + window.location.pathname) {
                 if (quickToolsSection) {
                    setTimeout(() => {
                        smoothScrollTo(quickToolsSection);
                    }, 50); // Small delay to ensure the DOM is fully rendered before scrolling
                }
             }

             // Initial check for desktop expansion
             detailsElements.forEach(details => {
                 if (details.open && window.innerWidth >= 1024) {
                    details.classList.add('lg:col-span-3');
                }
            });
        });
    </script>
</body>
</html>
